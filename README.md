# Лабораторная работа #1
студент: Мехмет Хакан Угурлу
Группа: ИУ7И-11М



В этом лабораторном исследовании было разработано простое веб-приложение, работающее на Heroku, которое применяет CRUD-операции к сущности «Person». Кроме того, автоматизированы процессы CI/CD с помощью GitHub Actions.

Цель проекта
Предоставить функциональность RESTful API, с помощью которого пользователь может выполнять операции над сущностью «Person», а также создать автоматизированный процесс сборки, тестирования и развертывания с помощью GitHub Actions.

Функции API
API предоставляет следующие функции:

GET /persons/{personId} - Получение информации о конкретном человеке.
GET /persons - Получение информации обо всех персонах.
POST /persons - Создание нового контакта.
PATCH /persons/{personId} - Обновление существующей записи контакта.
DELETE /persons/{personId} - Удаление конкретной записи о человеке.

Установка Для запуска проекта:

Java JDK 17
Gradle
Docker
Heroku CLI

Процесс разработки проекта
1. Дизайн проекта и определение API
Были созданы классы PersonController, Person и PersonRepository.
Были определены конечные точки для обеспечения CRUD-операций с помощью Spring Boot REST API и соответствующие HTTP-методы (GET, POST, PATCH, DELETE) для каждой из них.
2. Конфигурация Docker и Heroku
Docker: Проект был упакован с помощью Dockerfile. Были сделаны необходимые настройки для запуска образа Docker на Heroku.
Heroku: На Heroku было создано приложение для автоматического развертывания с помощью GitHub Actions.
Развертывание образа Docker было задано в файле heroku.yml.
3. Процесс CI/CD - использование GitHub Actions
С помощью GitHub Actions был создан автоматический конвейер. Этот процесс работает с шагами, определенными в файле classroom.yml в каждой операции push или pull запроса:
Проверка кода: с помощью actions/checkout@v3 был извлечен репозиторий, содержащий код.
Установка Java: JDK 17 настраивается с помощью actions/setup-java@v3.
Сборка и тестирование: проект был скомпилирован и протестирован с помощью команды ./gradlew build.
Развертывание Docker и Heroku: Образ Docker был установлен и запущен на Heroku.
Тесты API Postman: интеграционные тесты Postman были запущены с помощью команды matt-ball/newman-action@master.
4. Конфигурация базы данных
В качестве базы данных в приложении используется PostgreSQL.
Контейнер PostgreSQL был запущен в локальном окружении с помощью Docker Compose, была создана база данных с именем persons и пользователь.
Heroku PostgreSQL: Плагин базы данных Postgres был определен через Heroku Dashboard, а настройки подключения были добавлены в переменные окружения Heroku.
5. Тесты и проверка API
Тестирование с помощью Postman: тесты интеграции API проводились с помощью Newman с файлом lab1.postman_collection.json.
Добавление новых функций: По результатам тестирования были внесены необходимые улучшения и исправления ошибок.
Заключение и резюме
В данном проекте было разработано REST API-приложение, содержащее CRUD-функции, реализовано его функционирование на Heroku с помощью Docker и автоматическое развертывание с помощью CI/CD pipeline. Проект был успешно протестирован и выполнен в соответствии с заданными требованиями.
